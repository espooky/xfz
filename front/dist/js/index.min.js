function Banner(){this.bannerWidth=796,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.pageControl=$(".page-control"),this.bannerCount=this.liList.length}function Index(){var n=this;n.page=2,n.category_id=0,n.loadBtn=$("#load-more-btn")}Banner.prototype.initBanner=function(){var n=this.liList.eq(0).clone(),t=this.liList.eq(this.bannerCount-1).clone();this.bannerUl.append(n),this.bannerUl.prepend(t),this.bannerUl.css({width:this.bannerWidth*(this.bannerCount+2),left:-this.bannerWidth})},Banner.prototype.initPageControl=function(){for(var n=0;n<this.bannerCount;n++){var t=$("<li></li>");this.pageControl.append(t),0===n&&t.addClass("active")}this.pageControl.css({width:12*this.bannerCount+16+16*(this.bannerCount-1)})},Banner.prototype.toggleArrow=function(n){n?(this.leftArrow.show(),this.rightArrow.show()):(this.leftArrow.hide(),this.rightArrow.hide())},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.animate=function(){this.bannerUl.stop().animate({left:-this.bannerWidth*this.index},1e3);var n=this.index;0===n?n=this.bannerCount-1:n===this.bannerCount+1?n=0:--n,this.pageControl.children("li").eq(n).addClass("active").siblings().removeClass("active")},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerWidth*n.bannerCount}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.listenPageControl=function(){var e=this;e.pageControl.children("li").each(function(n,t){$(t).click(function(){e.index=n+1,e.animate()})})},Banner.prototype.run=function(){this.initBanner(),this.initPageControl(),this.loop(),this.listenArrowClick(),this.listenBannerHover(),this.listenPageControl()},Index.prototype.listenLoadMoreEvent=function(){var i=this;i.loadBtn.click(function(){xfzajax.get({url:"/news/list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var t=n.data;if(0<t.length){var e=template("news-item",{newses:t});$(".list-inner-group").append(e),i.page+=1}else i.loadBtn.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var o=this;$(".list-tab").children().click(function(){var r=$(this),a=r.attr("data-category");xfzajax.get({url:"/news/list/",data:{category_id:a,p:1},success:function(n){if(200===n.code){var t=n.data,e=template("news-item",{newses:t}),i=$(".list-inner-group");i.empty(),i.append(e),o.page=2,o.category_id=a,r.addClass("active").siblings().removeClass("active"),o.loadBtn.show()}}})})},Index.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategorySwitchEvent()},$(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJwYWdlQ29udHJvbCIsImJhbm5lckNvdW50IiwibGVuZ3RoIiwiSW5kZXgiLCJzZWxmIiwicGFnZSIsImNhdGVnb3J5X2lkIiwibG9hZEJ0biIsInByb3RvdHlwZSIsImluaXRCYW5uZXIiLCJmaXJzdEJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImNzcyIsIndpZHRoIiwibGVmdCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJsaXN0ZW5CYW5uZXJIb3ZlciIsImhvdmVyIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVyIiwibG9vcCIsImFuaW1hdGUiLCJzdG9wIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInNldEludGVydmFsIiwibGlzdGVuQXJyb3dDbGljayIsImNsaWNrIiwibGlzdGVuUGFnZUNvbnRyb2wiLCJlYWNoIiwib2JqIiwicnVuIiwibGlzdGVuTG9hZE1vcmVFdmVudCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwicCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJuZXdzZXMiLCJ0cGwiLCJ0ZW1wbGF0ZSIsImxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQiLCJsaSIsImF0dHIiLCJuZXdzTGlzdEdyb3VwIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQWVBLFNBQVNBLFNBQ0xDLEtBQUtDLFlBQWMsSUFFbkJELEtBQUtFLFlBQWNDLEVBQUUsaUJBSXJCSCxLQUFLSSxNQUFRLEVBQ2JKLEtBQUtLLFVBQVlGLEVBQUUsZUFDbkJILEtBQUtNLFdBQWFILEVBQUUs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LEVBQUUscUJBRXRCZ0UsRUFBY0MsUUFDZEQsRUFBYzNDLE9BQU9zQyxHQUNyQmhELEVBQUtDLEtBQU8sRUFDWkQsRUFBS0UsWUFBY0EsRUFFbkJpRCxFQUFHakMsU0FBUyxVQUFVWSxXQUFXQyxZQUFZLFVBQzdDL0IsRUFBS0csUUFBUWtCLGNBT2pDdEIsTUFBTUssVUFBVWtDLElBQU0sV0FDUHBELEtBQ05xRCxzQkFETXJELEtBRU5nRSw2QkFLVDdELEVBQUUsWUFDZSxJQUFJSixRQUVWcUQsT0FFSyxJQUFJdkMsT0FDVnVDIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGpz5Lit6Z2i5ZCR5a+56LGh55qE5YaZ5rOVXHJcbi8vIOmAmui/h3RoaXPlhbPplK7lrZfmt7vliqDlsZ7mgKfvvIzlubbkuJTmjIflrprlroPnmoTlgLxcclxuLy8gZnVuY3Rpb24gQmFubmVyKCkge1xyXG4vLyAgICAgLy8g6L+Z5Liq6YeM6Z2i5YaZ55qE5Luj56CB55u45b2T5LqOUHl0aG9u5LitX19pbml0X1/mlrnms5XkuK3nmoTku6PnoIFcclxuLy8gICAgIGNvbnNvbGUubG9nKCfmnoTpgKDlh73mlbDvvIzlnKhuZXfnmoTml7blgJnlsLHkvJrooqvmiafooYwnKTtcclxuLy8gICAgIHRoaXMucGVyc29uID0gJ2Jvd2FuZyc7XHJcbi8vIH1cclxuLy8gLy8g5Y6f5Z6L6ZO+IOeUqOadpea3u+WKoOaWueazle+8jOWcqDznsbvlkI0+LnByb3RvdHlwZeS4iua3u+WKoOaWueazleWwseihjFxyXG4vLyBCYW5uZXIucHJvdG90eXBlLmdyZWF0ID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKCfmlrnms5V+ficsIHdvcmQpXHJcbi8vIH07XHJcbi8vXHJcbi8vIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKCk7XHJcbi8vIGNvbnNvbGUubG9nKGJhbm5lci5wZXJzb24pO1xyXG4vLyBiYW5uZXIuZ3JlYXQoJ2Jvd2FuZycpO1xyXG5mdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gNzk2O1xyXG4gICAgLy8g6I635Y+WaWTkuLpiYW5uZXItZ3JvdXDov5nkuKrmoIfnrb5cclxuICAgIHRoaXMuYmFubmVyR3JvdXAgPSAkKCcjYmFubmVyLWdyb3VwJyk7XHJcbiAgICAvLyBpbmRleOWumuS5ieaIkOexu+WxnuaAp+S7peino+WGs+m8oOagh+emu+W8gOi9ruaSreWbvuWbvueJh+i3s+i9rOWIsOesrOS4gOW8oOeahOmXrumimFxyXG4gICAgLy8g6L+Z5LiqaW5kZXjnm7jlvZPkuo7mmK/lhajlsYDlj5jph4/vvIzlm6DkuLrmiJHku6zlrp7njrDkuobml6DpmZDlvqrnjq/ova7mkq3vvIjkurrkuLrliY3lkI7lkITliqDkuobkuIDlvKDvvInvvIzmiYDku6Xpu5jorqRcclxuICAgIC8vIOaYr+S7juesrOS6jOW8oOWbvueJh+W8gOWni+i9ruaSre+8jOWNs2luZGV46K6+572u5oiQMVxyXG4gICAgdGhpcy5pbmRleCA9IDE7XHJcbiAgICB0aGlzLmxlZnRBcnJvdyA9ICQoJy5sZWZ0LWFycm93Jyk7XHJcbiAgICB0aGlzLnJpZ2h0QXJyb3cgPSAkKCcucmlnaHQtYXJyb3cnKTtcclxuICAgIHRoaXMuYmFubmVyVWwgPSAkKCcjYmFubmVyLXVsJyk7XHJcbiAgICB0aGlzLmxpTGlzdCA9IHRoaXMuYmFubmVyVWwuY2hpbGRyZW4oJ2xpJyk7XHJcbiAgICB0aGlzLnBhZ2VDb250cm9sID0gJCgnLnBhZ2UtY29udHJvbCcpO1xyXG4gICAgdGhpcy5iYW5uZXJDb3VudCA9IHRoaXMubGlMaXN0Lmxlbmd0aDtcclxufVxyXG4vLyDliJ3lp4vljJbova7mkq3lm77lrr3luqZcclxuQmFubmVyLnByb3RvdHlwZS5pbml0QmFubmVyID0gZnVuY3Rpb24oKXtcclxuICAgIC8vIOWunueOsOaXoOmZkOW+queOr+i9ruaSreWKn+iDvVxyXG4gICAgLy8g5aSN5Yi256ys5LiA5byg5ZKM5pyA5ZCO5LiA5byg6L2u5pKt5Zu+XHJcbiAgICB2YXIgZmlyc3RCYW5uZXIgPSB0aGlzLmxpTGlzdC5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSB0aGlzLmxpTGlzdC5lcSh0aGlzLmJhbm5lckNvdW50IC0gMSkuY2xvbmUoKTtcclxuICAgIC8vIOWwhuWkjeWItuesrOS4gOW8oOeahOi9ruaSreWbvuWKoOWIsOacgOWQjuS4gOW8oOeahOWQjumdou+8jOWkjeWItuacgOWQjuS4gOW8oOi9ruaSreWbvuWKoOWIsOesrOS4gOW8oOeahOWJjemdolxyXG4gICAgdGhpcy5iYW5uZXJVbC5hcHBlbmQoZmlyc3RCYW5uZXIpO1xyXG4gICAgdGhpcy5iYW5uZXJVbC5wcmVwZW5kKGxhc3RCYW5uZXIpO1xyXG4gICAgLy8g5Li6c2Nzc+S4reeahGJhbm5lci11bOagh+etvuiuvue9rndpZHRo77yM5bm26K6+572u6buY6K6k6L2u5pKt5Zu+5L2N572u5pivLWJhbm5lcldpZHRo77yI5Y2z56ys5LqM5byg5Zu+77yJXHJcbiAgICB0aGlzLmJhbm5lclVsLmNzcyh7J3dpZHRoJyA6IHRoaXMuYmFubmVyV2lkdGggKiAodGhpcy5iYW5uZXJDb3VudCArIDIpLCAnbGVmdCc6IC10aGlzLmJhbm5lcldpZHRofSk7XHJcblxyXG59O1xyXG4vLyDliJ3lp4vljJblsI/lnIbngrlcclxuQmFubmVyLnByb3RvdHlwZS5pbml0UGFnZUNvbnRyb2wgPSBmdW5jdGlvbigpe1xyXG4gICAgLy8gdmFyIHBhZ2VDb250cm9sID0gJCgnLnBhZ2UtY29udHJvbCcpO1xyXG4gICAgZm9yICh2YXIgaT0wOyBpIDwgdGhpcy5iYW5uZXJDb3VudDsgaSsrKXtcclxuICAgICAgICAvLyDliJvlu7rkuIDkuKpsaeagh+etvlxyXG4gICAgICAgIHZhciBjaXJjbGUgPSAkKCc8bGk+PC9saT4nKTtcclxuICAgICAgICAvLyDlsIZsaeagh+etvuWKoOWIsHBhZ2UtY29udHJvbOS4rVxyXG4gICAgICAgIHRoaXMucGFnZUNvbnRyb2wuYXBwZW5kKGNpcmNsZSk7XHJcbiAgICAgICAgaWYgKGkgPT09IDApe1xyXG4gICAgICAgICAgICBjaXJjbGUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOWcqHNjc3PkuK3kuLoucGFnZS1jb250cm9s5qCH562+6K6+572ud2lkdGhcclxuICAgIHRoaXMucGFnZUNvbnRyb2wuY3NzKHsnd2lkdGgnIDp0aGlzLmJhbm5lckNvdW50ICogMTIgKyA4ICogMiArIDE2ICogKHRoaXMuYmFubmVyQ291bnQgLSAxKX0pO1xyXG59O1xyXG4vLyDmjqfliLbnrq3lpLTmmK/lkKbpnIDopoHpmpDol4/lkozmmL7npLpcclxuQmFubmVyLnByb3RvdHlwZS50b2dnbGVBcnJvdyA9IGZ1bmN0aW9uKGlzU2hvdyl7XHJcbiAgICBpZiAoaXNTaG93KXtcclxuICAgICAgICAvLyDov5nmoLflhpnogJfotLnmgKfog73vvIzmr4/mrKHpvKDmoIfmlL7kuIvljrvmiJbogIXnprvlvIDpg73opoHljrtodG1s5Lit5om+6L+Z5Lqb5qCH562+77yM5Zug5q2k5Y+v5Lul5oq95Ye65p2lXHJcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3cuc2hvdygpO1xyXG4gICAgICAgIHRoaXMucmlnaHRBcnJvdy5zaG93KCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3cuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMucmlnaHRBcnJvdy5oaWRlKCk7XHJcbiAgICB9XHJcbn07XHJcbi8vIOebkeWQrOm8oOagh2hvdmVy6L2u5pKt5Zu+5LqL5Lu2XHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQmFubmVySG92ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgLy8g5LiN6IO955u05o6l5L2/55SodGhpcy50aW1lcu+8jOWboOS4umNsZWFySW50ZXJ2YWzlh73mlbDlvZPliY3mmK/lnKhiYW5uZXJHcm91cOWvueixoeS4i++8jFxyXG4gICAgLy8g6YKj5LmIdGhpc+WwseS7o+ihqOaYr2Jhbm5lckdyb3Vw55qE6ICM5LiN5pivQmFubmVy55qE77yM5oiR5Lus6KaB55So5LiA5Liq5Y+Y6YeP5Y675byV55SoYmFubmVy55qEdGhpc1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8g56ys5LiA5Liq5piv5oqK6byg5qCH56e75Yqo5Yiw6L2u5pKt5Zu+5LiK5Lya5omn6KGM55qE5Ye95pWwXHJcbiAgICAgICAgLy8gY2xlYXJJbnRlcnZhbOeUqOS6juWFs+mXreWumuaXtuWZqFxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lcik7XHJcbiAgICAgICAgc2VsZi50b2dnbGVBcnJvdyh0cnVlKVxyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIOesrOS6jOS4quWHveaVsOaYr+aKium8oOagh+emu+W8gOi9ruaSreWbvuS8muaJp+ihjOeahOWHveaVsFxyXG4gICAgICAgIHNlbGYubG9vcCgpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3coZmFsc2UpXHJcbiAgICB9KVxyXG59O1xyXG4vLyDorqliYW5uZXItdWznp7vliqjvvIzlm6DkuLpiYW5uZXItdWznp7vliqjkuobvvIzph4zpnaLnmoRsaeagh+etvuS5n+Wwsei3n+edgOenu+WKqOS6hiwx56eS6ZKf56e75a6MXHJcbkJhbm5lci5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyDlhYhzdG9wKCnnlKjkuo7op6PlhrPmtY/op4jlmajkuZ/mjaLliLDliKvnmoTpobXpnaLlho3lm57mnaXkuqfnlJ/nmoTliqjnlLvlj6DliqDnmoTpl67popjvvIzov5nkuKrpl67popjkvJrkvb/liIfmjaLpgJ/luqblj5jlv6tcclxuICAgIHRoaXMuYmFubmVyVWwuc3RvcCgpLmFuaW1hdGUoeydsZWZ0JzogLXRoaXMuYmFubmVyV2lkdGggKiB0aGlzLmluZGV4fSwgMTAwMCk7XHJcbiAgICAvLyDmv4DmtLvlvZPliY3lsI/lnIbngrnnmoTmoLflvI/vvIzlubbliKDpmaTlhbblroPlsI/lnIbngrnnmoTmoLflvI/vvIjmnIlhY3RpdmXlsLHliKDvvIzmsqHmnInlsLHkuI3nrqHkuI3kvJrmiqXplJnvvIlcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXg7XHJcbiAgICBpZiAoaW5kZXggPT09IDApe1xyXG4gICAgICAgIGluZGV4ID0gdGhpcy5iYW5uZXJDb3VudCAtIDE7XHJcbiAgICB9ZWxzZSBpZiAoaW5kZXggPT09IHRoaXMuYmFubmVyQ291bnQgKyAxKXtcclxuICAgICAgICBpbmRleCA9IDA7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgaW5kZXggPSBpbmRleCAtIDE7XHJcbiAgICB9XHJcbiAgICAvLyBjaGlsZHJlbuiOt+WPluaJgOaciWxp5qCH562+77yMZXHojrflj5blvZPliY3moIfnrb7vvIjlsI/lnIbngrnvvIlcclxuICAgIHRoaXMucGFnZUNvbnRyb2wuY2hpbGRyZW4oJ2xpJykuZXEoaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxufTtcclxuLy8g6L2u5pKt5Zu+5a6a5pe25Zmo5Lu75YqhXHJcbkJhbm5lci5wcm90b3R5cGUubG9vcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID49IHNlbGYuYmFubmVyQ291bnQgKyAxKSB7XHJcbiAgICAgICAgICAgIC8vIOWboOS4uuimgeWunueOsOaXoOmZkOi9ruaSre+8jOW9k+WIsOacgOWQjuS4gOW8oO+8iOi/meW8oOaYr+aIkeS7rOS6uuS4uuWKoOeahO+8iSznq4vljbPlsIZsZWZ05YiH5o2i5Yiw56ys5LqM5byg55qE5L2N572uXHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHsnbGVmdCc6IC1zZWxmLmJhbm5lcldpZHRofSlcclxuICAgICAgICAgICAgLy8gc2VsZi5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgIC8vIOW5tuS4lOS4i+S4gOW8oOWbvuaYr+esrOS4ieW8oO+8jGluZGV46K6+572u5Li6MlxyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgICB9LCAyMDAwKTtcclxufTtcclxuLy8g55uR5ZCs54K55Ye7566t5aS05LqL5Lu2XHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQXJyb3dDbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxlZnRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaW5kZXggPT09IDApe1xyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7J2xlZnQnOiAtc2VsZi5iYW5uZXJXaWR0aCAqIHNlbGYuYmFubmVyQ291bnR9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuYmFubmVyQ291bnQgLSAxO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKTtcclxuICAgIH0pO1xyXG4gICAgc2VsZi5yaWdodEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIGlmIChzZWxmLmluZGV4ID09PSBzZWxmLmJhbm5lckNvdW50ICsgMSl7XHJcbiAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3MoeydsZWZ0JzogLXNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcbi8vIOebkeWQrOWwj+WchueCueS9jee9rlxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIOiOt+WPlnBhZ2UtY29udHJvbOS4i+eahOaJgOaciWxp5qCH562+5bm26YGN5Y6G77yMaW5kZXjkuLrntKLlvJXvvIxvYmrkuLrlvZPliY3nmoRsaeagh+etvlxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbignbGknKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgb2JqKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob2JqKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09JylcclxuICAgICAgICAvLyDlsIZqc+WvueixoeWMheijheaIkGpRdWVyeeWvueixoeaJjeiDvee7keWumueCueWHu+S6i+S7tlxyXG4gICAgICAgICQob2JqKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcbi8vIOi9ruaSreWbvuWQr+WKqOWHveaVsFxyXG5CYW5uZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdEJhbm5lcigpO1xyXG4gICAgdGhpcy5pbml0UGFnZUNvbnRyb2woKTtcclxuICAgIHRoaXMubG9vcCgpO1xyXG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7XHJcbiAgICB0aGlzLmxpc3RlbkJhbm5lckhvdmVyKCk7XHJcbiAgICB0aGlzLmxpc3RlblBhZ2VDb250cm9sKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBJbmRleCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucGFnZSA9IDI7XHJcbiAgICBzZWxmLmNhdGVnb3J5X2lkID0gMDtcclxuICAgIHNlbGYubG9hZEJ0biA9ICQoXCIjbG9hZC1tb3JlLWJ0blwiKVxyXG59XHJcblxyXG5JbmRleC5wcm90b3R5cGUubGlzdGVuTG9hZE1vcmVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubG9hZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL2xpc3QvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdwJzogc2VsZi5wYWdlLFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5X2lkJzogc2VsZi5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdzZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld3Nlcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5L2/55SoYXJ0LXRlbXBsYXRl6L+b6KGM5riy5p+T5bm25ou/5Yiw5riy5p+T5ZCO55qE57uT5p6c77yM5om+5Yiwc2NyaXB05a+55bqU55qEaWTvvIzlj4LmlbDopoHlkoxcIm5ld3Nlc1wi5a+55bqUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcIm5ld3MtaXRlbVwiLCB7XCJuZXdzZXNcIjogbmV3c2VzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bCA9ICQoXCIubGlzdC1pbm5lci1ncm91cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g6L+95Yqg5YiwbGlzdC1pbm5lci1ncm91cOagh+etvuS4rVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ0bi5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkluZGV4LnByb3RvdHlwZS5saXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRhYkdyb3VwID0gJChcIi5saXN0LXRhYlwiKTtcclxuICAgIC8vIGNoaWxkcmVuKCnooajnpLrojrflj5ZsaXN0LXRhYuS4i+eahOaJgOacieWtkOWFg+e0oO+8jOi/memHjOe7mei/meS6m+WtkOWFg+e0oOe7keWumueCueWHu+S6i+S7tlxyXG4gICAgdGFiR3JvdXAuY2hpbGRyZW4oKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdGhpc++8muS7o+ihqOW9k+WJjemAieS4reeahOi/meS4qmxp5qCH562+XHJcbiAgICAgICAgdmFyIGxpID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBsaS5hdHRyKFwiZGF0YS1jYXRlZ29yeVwiKTtcclxuICAgICAgICB2YXIgcGFnZSA9IDE7XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL2xpc3QvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBjYXRlZ29yeV9pZCxcclxuICAgICAgICAgICAgICAgICdwJzogcGFnZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzLWl0ZW1cIix7XCJuZXdzZXNcIjpuZXdzZXN9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c0xpc3RHcm91cCA9ICQoXCIubGlzdC1pbm5lci1ncm91cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0ee+8muWPr+S7peWwhui/meS4quagh+etvuS4i+eahOaJgOacieWtkOWFg+e0oOmDveWIoOaOiVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld3NMaXN0R3JvdXAuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdzTGlzdEdyb3VwLmFwcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXRlZ29yeV9pZCA9IGNhdGVnb3J5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOW9k+WJjWxp6YCJ5Lit77yM5YW25a6DbGnnp7vpmaTpgInkuK1cclxuICAgICAgICAgICAgICAgICAgICBsaS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkQnRuLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5JbmRleC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5Mb2FkTW9yZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKTtcclxufTtcclxuXHJcbi8vIOS9v+eUqCTnrKblj7fvvIhKcXVlcnnmj5DkvpvnmoTvvInph4zpnaLliqDkuIropoHmiafooYzlh73mlbDvvIxcclxuLy8g5L2/5b6X5oiR5Lus6L+Z5Liq5Ye95pWw5Zyo6KKr5byV55So55qEaHRtbOS7o+eggea4suafk+WujOaIkOS5i+WQjuaJjeaJp+ihjFxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5kZXguanMnKTtcclxuICAgIGJhbm5lci5ydW4oKTtcclxuXHJcbiAgICB2YXIgaW5kZXggPSBuZXcgSW5kZXgoKTtcclxuICAgIGluZGV4LnJ1bigpO1xyXG59KTsiXX0=
