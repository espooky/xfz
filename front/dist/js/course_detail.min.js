function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"7c62e4459d9e4b7d931844508754dcbf"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsInN0b3AiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFFL0JHLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzFDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FBSSxxQ0FHWmIsRUFBT2MsR0FBRyxhQUFjLFNBQVVDLEdBRTFCLE9BQU9DLEtBQUtELEVBQUVWLE9BR2xCWSxRQUFRQyxJQUFJLENBQ1JDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU3pCLEVBQ1RHLFVBQWFBLEdBRWpCdUIsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUVsQ3ZCLEVBQU95QixTQUFTVixFQUFFVixLQUFNbUIsUUFHeEJFLE9BQU9DLFdBQVdDLFNBQVNMLEVBQWdCLFNBRTNDdkIsRUFBTzZCLFFBR2ZDLEtBQVEsU0FBVUMsR0FDZEMsUUFBUUMsSUFBSUYsU0FNNUJ4QyxhQUFhQyxVQUFVMEMsSUFBTSxXQUN6QkMsS0FBSzFDLGNBSVRFLEVBQUUsWUFDcUIsSUFBSUosY0FDVjJDIiwiZmlsZSI6ImNvdXJzZV9kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG5cclxufVxyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHZpZGVvSW5mb1NwYW4gPSAkKFwiI3ZpZGVvLWluZm9cIik7XHJcbiAgICB2YXIgdmlkZW9fdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS12aWRlby11cmxcIik7XHJcbiAgICB2YXIgY292ZXJfdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS1jb3Zlci11cmxcIik7XHJcbiAgICB2YXIgY291cnNlX2lkID0gdmlkZW9JbmZvU3Bhbi5hdHRyKCdkYXRhLWNvdXJzZS1pZCcpO1xyXG5cclxuICAgIHZhciBwbGF5ZXIgPSBjeWJlcnBsYXllcihcInBsYXllcmNvbnRhaW5lclwiKS5zZXR1cCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgICAgICBmaWxlOiB2aWRlb191cmwsXHJcbiAgICAgICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAgICAgICAgIGF1dG9zdGFydDogZmFsc2UsXHJcbiAgICAgICAgICAgIHN0cmV0Y2hpbmc6IFwidW5pZm9ybVwiLFxyXG4gICAgICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgICAgICAgICAgY29udHJvbHM6IHRydWUsXHJcbiAgICAgICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAgICAgICAgIGFrOiAnN2M2MmU0NDU5ZDllNGI3ZDkzMTg0NDUwODc1NGRjYmYnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyDliKTmlq3op4bpopHmlofku7bmmK/lkKbmmK9tM3U457yW56CB57G75Z6LXHJcbiAgICAgICAgaWYoIS9tM3U4Ly50ZXN0KGUuZmlsZSkpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgICAgICdjb3Vyc2VfaWQnOiBjb3Vyc2VfaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDlsIbnmb7luqbkupHnmoR0b2tlbu+8iOWvhuegge+8iea3u+WKoOe7meaSreaUvuWZqO+8jOi/meagt+eZvuW6puS6keeahOaSreaUvuWZqOaPkuS7tuaJjeiDveaSreaUvlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsIHRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOaPkOekuueUqOaIt+WFiOi0reS5sOinhumikVxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDmmoLlgZzmkq3mlL5cclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0UGxheWVyKCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KTtcclxuIl19
